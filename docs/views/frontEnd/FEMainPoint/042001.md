---
title: æ­£åˆ™
date: 2019-03-15
---

[[toc]]

> [æ­£åˆ™](http://recoluanfe.gitee.io/note/js/14%20%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F.html#%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86)

## åŸºç¡€

### åˆ›å»ºæ­£åˆ™

#### å­—é¢é‡

```js
const regexp = /a/g

// ç¼ºç‚¹æ˜¯æ— æ³•ä½¿ç”¨å˜é‡

// å¯ä»¥ä½¿ç”¨ eval æ”¹å–„ï¼Œä¸å¸¸ç”¨
const a = 'u'
const regexp = eval(`/${a}/g`)
```

#### å¯¹è±¡

```js
const regexp = new RegExp('a', 'g')
```
- ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ­£åˆ™å­—ç¬¦ä¸²ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯èŒƒå›´ g/i/m
- `\` è¦ä½¿ç”¨ `\\`ï¼Œæ¯”å¦‚ `/a\-c/g` è¦å†™æˆ `new RegExp('a\\-c', 'g')`

#### æ¡ˆä¾‹

```html
<!-- æœç´¢ç»“æœé«˜äº® -->
<div class="content">recoluan.com</div>

<script>
  let con = prompt("è¯·è¾“å…¥è¦æ£€æµ‹çš„å†…å®¹ï¼Œæ”¯æŒæ­£åˆ™")
  let reg = new RegExp(con, 'g')
  let div = document.querySelector('.content')

  div.innerHTML = div.innerHTML.replace(reg, item => {
    return `<span style="color: red">${item}</span>`
  })
</script>
```

### é€‰æ‹©ç¬¦

é€‰æ‹©ç¬¦ `|`ï¼ŒæŒ‡çš„æ˜¯åŒ¹é…å·¦å³ä¸¤è¾¹çš„ä»»ä½•ä¸€ä¸ªè¡¨è¾¾å¼ã€‚

```js
// åŒ¹é… ab æˆ–è€…æ˜¯ cd
const reg = /ab|cd/

// ä¸€èˆ¬é…åˆåŸå­ç»„ä½¿ç”¨
// åŒ¹é… 010-12345 æˆ– 020-12345
const reg = /(010|020)\-12345/
```

åŸå­è¡¨ä¸­ï¼Œæœ¬èº«å°±æœ‰æˆ–çš„æ„æ€ï¼Œæ‰€æœ‰ä¸ç”¨å†ä½¿ç”¨ `|`ï¼š

```js
const reg = /[123]/
```

### è½¬ä¹‰

```js
// åŒ¹é… 22.34

const reg = /\d+\.\d+/

// ä½¿ç”¨å¯¹è±¡
const reg = new RegExp('\\d+\.\\d+')
```

### è¾¹ç•Œ

|è¾¹ç•Œç¬¦|è¯´æ˜|
|^|åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹|
|$|åŒ¹é…å­—ç¬¦ä¸²çš„ç»“æŸï¼Œå¿½ç•¥æ¢è¡Œç¬¦|

```js
// åŒ¹é… 3
const reg = /\d/

// å¦‚æœæ˜¯ a3b ä¹Ÿä¼šåŒ¹é…æˆåŠŸï¼Œç”¨èµ·æ­¢æ ‡è¯†ç¬¦é™å®šè¾¹ç•Œ
// æ„æ€å°±æ˜¯å¼€å§‹å’Œç»“å°¾éƒ½è¦æ˜¯æ•°å­—æ‰å¯ä»¥
const reg = /^\d$/

// æ¯”å¦‚åŒ¹é… 3åˆ°6ä½å°å†™å­—æ¯ï¼Œå¦‚æœæ²¡æœ‰èµ·æ­¢è¾¹ç•Œï¼Œè¶…è¿‡6ä½ï¼Œæˆ–è€…æ˜¯æ­£å¸¸åŒ¹é…å­—ç¬¦çš„å‰åæœ‰å…¶ä»–å­—ç¬¦ä¹Ÿæ˜¯å¯ä»¥çš„
const reg = /^[a-z]{3, 6}$/
```

## å…ƒå­—ç¬¦

```js
const str = `
å¼ ä¸‰:010-12345,æå››ï¼š020-12345
`

// åŒ¹é…ç”µè¯å·ç 
str.match(/\d{3}-\d{5}/)

// åŒ¹é…åå­—ï¼ˆå°±æ˜¯åŒ¹é… æ•°å­—/-/:,/ç©ºç™½ ä¹‹å¤–çš„å†…å®¹ï¼Œå¹¶ä¸”å°½å¯èƒ½å¤šå»ï¼Œä¸ç„¶ç»“æœ ["å¼ ", "ä¸‰", "æ", "å››"]ï¼‰
// å¦‚æœæ­£ç€ä¸å®¹æ˜“åŒ¹é…ï¼Œé‚£å°±å–åï¼Œ[^]å°±æ˜¯å–å
console.log(str.match(/[^-\d:,\s]+/g))
```

```js
// åŒ¹é… 5-10ä½å­—ç¬¦æ•°å­—ä¸‹åˆ’çº¿ï¼Œè¦æ±‚é¦–å­—ç¬¦ä¸ºå­—æ¯
const reg = /^[a-z]\w{4, 9}&/
```

### å¸¸ç”¨å…ƒå­—ç¬¦
|å…ƒå­—ç¬¦|è¯´æ˜|ç¤ºä¾‹|
|-|-|-|
|\d|åŒ¹é…ä»»æ„ä¸€ä¸ªæ•°å­—|[0-9]|
|\D|ä¸é™¤äº†æ•°å­—ä»¥å¤–çš„ä»»ä½•ä¸€ä¸ªå­—ç¬¦åŒ¹é…|[^0-9]|
|\w|ä¸ä»»æ„ä¸€ä¸ªè‹±æ–‡å­—æ¯,æ•°å­—æˆ–ä¸‹åˆ’çº¿åŒ¹é…|[a-zA-Z_]|
|\W|é™¤äº†å­—æ¯,æ•°å­—æˆ–ä¸‹åˆ’çº¿å¤–ä¸ä»»ä½•å­—ç¬¦åŒ¹é…|[^a-zA-Z_]|
|\s|ä»»æ„ä¸€ä¸ªç©ºç™½å­—ç¬¦åŒ¹é…ï¼Œå¦‚ç©ºæ ¼ï¼Œåˆ¶è¡¨ç¬¦\tï¼Œæ¢è¡Œç¬¦\n|[\n\f\r\t\v]|
\S|é™¤äº†ç©ºç™½ç¬¦å¤–ä»»æ„ä¸€ä¸ªå­—ç¬¦åŒ¹é…|[^\n\f\r\t\v]|
|.|åŒ¹é…é™¤æ¢è¡Œç¬¦ï¼ˆ\nã€\rï¼‰ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚è¦åŒ¹é…åŒ…æ‹¬ '\n' åœ¨å†…çš„ä»»ä½•å­—ç¬¦ï¼Œè¯·ä½¿ç”¨åƒ"(.|\n)"çš„æ¨¡å¼ã€‚||

### åŒ¹é…æ‰€æœ‰å­—ç¬¦

```js
// ä½¿ç”¨æ­£åä¸¤ç§æ¨¡å¼å°±æ˜¯åŒ¹é…æ‰€æœ‰å­—ç¬¦
const reg1 = /[\d\D]/
const reg2 = /[\w\W]/
const reg3 = /[\s\S]/
```

- [æ­£åˆ™è¡¨è¾¾å¼ - å…ƒå­—ç¬¦](https://www.runoob.com/regexp/regexp-metachar.html)


## æ¨¡å¼ä¿®é¥°

|ä¿®æ­£ç¬¦|å«ä¹‰|
|-|-|
|g|global å…¨æ–‡æœç´¢ï¼Œä¸æ·»åŠ ï¼Œæœç´¢åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…åœæ­¢|
|i|ignore case å¿½ç•¥å¤§å°å†™ï¼Œé»˜è®¤å¤§å°å†™æ•æ„Ÿ|
|m|multiple å¤šè¡Œæœç´¢ï¼ˆè¡¨ç¤ºå¯¹å¤šè¡Œè¿›è¡Œå¤„ç†ï¼‰|
|s|è§†ä¸ºå•è¡Œå¿½ç•¥æ¢è¡Œç¬¦ï¼Œä½¿ç”¨. å¯ä»¥åŒ¹é…æ‰€æœ‰å­—ç¬¦|
|y|ä» regexp.lastIndex å¼€å§‹åŒ¹é…|
|u|æ­£ç¡®å¤„ç†å››ä¸ªå­—ç¬¦çš„ UTF-16 ç¼–ç |

### m å¤šè¡ŒåŒ¹é…

```js
const str = `
#1 js,200å…ƒ #
#2 php,300å…ƒ #
#9 recoluan.com # reco
#3 node.js,180å…ƒ #
`
// ä¸‹é¢æ³¨é‡Šéƒ¨åˆ†è¿”å›çš„ç»“æœçš„ç¬¬ä¸‰ä¸ªå…ƒç´ æ˜¯ä¸éœ€è¦çš„ï¼Œæ‰€ä»¥æ¯ä¸€è¡Œå•ç‹¬å¤„ç†å°±å¥½äº†
// console.log(str.match(/\s*#\d+\s.+\s#/g))

// å¤šè¡Œå¤„ç†
const result = str.match(/^\s*#\d+\s.+\s#$/gm).map(item =>{
  const [name, price] = item.replace(/\s+/g, '').replace(/#+/g, '').split(',')
  return { name, price }
})

console.log(result)
```

### u å­—ç¬¦å±æ€§

æ¯ä¸ªå­—ç¬¦éƒ½æœ‰å±æ€§ï¼Œå¦‚Lå±æ€§è¡¨ç¤ºæ˜¯å­—æ¯ï¼ŒP è¡¨ç¤ºæ ‡ç‚¹ç¬¦å·ï¼Œéœ€è¦ç»“åˆ u æ¨¡å¼æ‰æœ‰æ•ˆã€‚å…¶ä»–å±æ€§ç®€å†™å¯ä»¥è®¿é—® [å±æ€§çš„åˆ«å](https://www.unicode.org/Public/UCD/latest/ucd/PropertyValueAliases.txt) ç½‘ç«™æŸ¥çœ‹ã€‚

```js
const str = 'reco2020'

// åˆ‡è®°ï¼Œåé¢çš„ u æ·»åŠ ä¸Šæ‰ä¼šç”Ÿæ•ˆ
console.log(str.match(/\p{L}/gu))
```

```js
// åŒ¹é…æ ‡ç‚¹ç¬¦å·
const reg = /str.match(/\p{P}/gu)/

// åŒ¹é…ä¸­æ–‡
const reg = /str.match(/\p{sc=Han}/gu)/

// åŒ¹é…å®½å­—èŠ‚ä¹Ÿè¦ä½¿ç”¨ u
const reg = /str.match(/[ğ’³ğ’´]/u)/
```

- [æ­£åˆ™è¡¨è¾¾å¼â€”â€”Unicode å±æ€§åˆ—è¡¨](http://www.mamicode.com/info-detail-2553584.html)

### lastIndex

RegExpå¯¹è±¡lastIndex å±æ€§å¯ä»¥è¿”å›æˆ–è€…è®¾ç½®æ­£åˆ™è¡¨è¾¾å¼å¼€å§‹åŒ¹é…çš„ä½ç½®ã€‚

- å¿…é¡»ç»“åˆ g ä¿®é¥°ç¬¦ä½¿ç”¨
- å¯¹ exec æ–¹æ³•æœ‰æ•ˆ
- åŒ¹é…å®Œæˆæ—¶ï¼ŒlastIndex ä¼šè¢«é‡ç½®ä¸º0

```js

```

### y 

æˆ‘ä»¬æ¥å¯¹æ¯”ä½¿ç”¨ y ä¸g æ¨¡å¼ï¼Œä½¿ç”¨ g æ¨¡å¼ä¼šä¸€ç›´åŒ¹é…å­—ç¬¦ä¸²,ä½†ä½¿ç”¨y æ¨¡å¼åå¦‚æœä» lastIndex å¼€å§‹åŒ¹é…ä¸æˆåŠŸå°±ä¸ç»§ç»­åŒ¹é…äº†,æŸäº›ä¸éœ€è¦å…¨å±€åŒ¹é…çš„åœºæ™¯ï¼Œä½¿ç”¨yæ•ˆç‡æ›´é«˜ã€‚

## åŸå­è¡¨

åœ¨ä¸€ç»„å­—ç¬¦ä¸­åŒ¹é…æŸä¸ªå…ƒå­—ç¬¦ï¼Œåœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­é€šè¿‡å…ƒå­—ç¬¦è¡¨æ¥å®Œæˆï¼Œå°±æ˜¯æ”¾åˆ°[] (æ–¹æ‹¬å·)ä¸­ã€‚

### ä½¿ç”¨è¯­æ³•

|åŸå­è¡¨|è¯´æ˜|
|-|-|
|[]|åªåŒ¹é…å…¶ä¸­çš„ä¸€ä¸ªåŸå­|
|[^]|åªåŒ¹é…"é™¤äº†"å…¶ä¸­å­—ç¬¦çš„ä»»æ„ä¸€ä¸ªåŸå­|
|[0-9]|åŒ¹é…0-9ä»»ä½•ä¸€ä¸ªæ•°å­—|
|[a-z]|åŒ¹é…å°å†™a-zä»»ä½•ä¸€ä¸ªå­—æ¯|
|[A-Z]|åŒ¹é…å¤§å†™A-Zä»»ä½•ä¸€ä¸ªå­—æ¯|

```js
// åˆ é™¤æ‰€æœ‰ h æ ‡ç­¾
<body>
  <p>reco</p>
  <h3></h3>
  <h1>recoluanfe.com</h1>
  <h2>hdcms.com</h2>
</body>
<script>
  const body = document.body;
  const reg = /<(h[1-6])>[\s\S]*<\/\1>*/g;
  let content = body.innerHTML.replace(reg, "");
  document.body.innerHTML = content;
</script>
```

## åŸå­ç»„

- å¦‚æœä¸€æ¬¡è¦åŒ¹é…å¤šä¸ªå…ƒå­ï¼Œå¯ä»¥é€šè¿‡å…ƒå­ç»„å®Œæˆ
- åŸå­ç»„ä¸åŸå­è¡¨çš„å·®åˆ«åœ¨äºåŸå­ç»„ä¸€æ¬¡åŒ¹é…å¤šä¸ªå…ƒå­ï¼Œè€ŒåŸå­è¡¨åˆ™æ˜¯åŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦
- å…ƒå­—ç¬¦ç»„ç”¨ () åŒ…è£¹

ä¸‹é¢ä½¿ç”¨åŸå­ç»„åŒ¹é… h1 æ ‡ç­¾ï¼Œå¦‚æœæƒ³åŒ¹é… h2 åªéœ€è¦æŠŠå‰é¢åŸå­ç»„æ”¹ä¸º h2 å³å¯ã€‚

```js
const hd = `<h1>recoluanfe.com</h1>`;
console.log(/<(h1)>.+<\/\1>/.test(hd)); //true
```

### åŸºæœ¬ä½¿ç”¨
æ²¡æœ‰æ·»åŠ  g æ¨¡å¼ä¿®æ­£ç¬¦æ—¶åªåŒ¹é…åˆ°ç¬¬ä¸€ä¸ªï¼ŒåŒ¹é…åˆ°çš„ä¿¡æ¯åŒ…å«ä»¥ä¸‹æ•°æ®

|å˜é‡|è¯´æ˜
|-|-|
|0|åŒ¹é…åˆ°çš„å®Œæ•´å†…å®¹|
|1,2....|åŒ¹é…åˆ°çš„åŸå­ç»„|
|ndex|åŸå­—ç¬¦ä¸²ä¸­çš„ä½ç½®|
|nput|åŸå­—ç¬¦ä¸²|
|roups|å‘½ååˆ†ç»„|

åœ¨matchä¸­ä½¿ç”¨åŸå­ç»„åŒ¹é…ï¼Œä¼šå°†æ¯ä¸ªç»„æ•°æ®è¿”å›åˆ°ç»“æœä¸­

- 0 ä¸ºåŒ¹é…åˆ°çš„å®Œæˆå†…å®¹
- 1/2 ç­‰ ä¸ºåŸå­çº§å†…å®¹
- index åŒ¹é…çš„å¼€å§‹ä½ç½®
- input åŸå§‹æ•°æ®
- groups ç»„åˆ«å

```js
let hd = "recoluanfe.com";
console.log(hd.match(/recoluan(fe)\.(com)/)); 
//["recoluanfe.com", "ren", "com", index: 0, input: "recoluanfe.com", groups: undefined]
```

æ£€æµ‹ 0~100 çš„æ•°å€¼ï¼Œä½¿ç”¨ parseInt å°†æ•°å€¼è½¬ä¸º10è¿›åˆ¶

```js
console.log(/^(\d{1,2}|100)$/.test(parseInt(09, 10)));
```

### é‚®ç®±åŒ¹é…

ä¸‹é¢ä½¿ç”¨åŸå­ç»„åŒ¹é…é‚®ç®±

```js
let hd = "2300071698@qq.com";
let reg = /^[\w\-]+@[\w\-]+\.(com|org|cn|cc|net)$/i;
console.dir(hd.match(reg));
```

å¦‚æœé‚®ç®±æ˜¯ä»¥ä¸‹æ ¼å¼ recoluanfe@hd.com.cn ä¸Šé¢è§„åˆ™å°†æ— æ•ˆï¼Œéœ€è¦å®šä¹‰ä»¥ä¸‹æ–¹å¼

```js
let hd = `admin@recoluanfe.com.cn`;
let reg = /^[\w-]+@([\w-]+\.)+(org|com|cc|cn)$/;
console.log(hd.match(reg));
```

### å¼•ç”¨åˆ†ç»„

\n åœ¨åŒ¹é…æ—¶å¼•ç”¨åŸå­ç»„ï¼Œ $n æŒ‡åœ¨æ›¿æ¢æ—¶ä½¿ç”¨åŒ¹é…çš„ç»„æ•°æ®ã€‚ä¸‹é¢å°†æ ‡ç­¾æ›¿æ¢ä¸ºpæ ‡ç­¾

```js
let hd = `
  <h1>recoluanfe</h1>
  <span>å‰ç«¯äºº</span>
  <h2>hdcms</h2>
`;

let reg = /<(h[1-6])>([\s\S]*)<\/\1>/gi;
console.log(hd.replace(reg, `<p>$2</p>`));
```

å¦‚æœåªå¸Œæœ›ç»„å‚ä¸åŒ¹é…ï¼Œä¾¿ä¸å¸Œæœ›è¿”å›åˆ°ç»“æœä¸­ä½¿ç”¨ `(?:)` å¤„ç†ã€‚ä¸‹é¢æ˜¯è·å–æ‰€æœ‰åŸŸåçš„ç¤ºä¾‹

```js
let hd = `
  https://www.recoluanfe.com
  http://recoluanfe.com
  https://hdcms.com
`;

let reg = /https?:\/\/((?:\w+\.)?\w+\.(?:com|org|cn))/gi;
while ((v = reg.exec(hd))) {
  console.dir(v);
}
```

### åˆ†ç»„åˆ«å
å¦‚æœå¸Œæœ›è¿”å›çš„ç»„æ•°æ®æ›´æ¸…æ™°ï¼Œå¯ä»¥ä¸ºåŸå­ç»„ç¼–å·ï¼Œç»“æœå°†ä¿å­˜åœ¨è¿”å›çš„ groupså­—æ®µä¸­

```js
let hd = "<h1>recoluanfe.com</h1>";
console.dir(hd.match(/<(?<tag>h[1-6])[\s\S]*<\/\1>/));
```

ç»„åˆ«åä½¿ç”¨ ?<> å½¢å¼å®šä¹‰ï¼Œä¸‹é¢å°†æ ‡ç­¾æ›¿æ¢ä¸ºpæ ‡ç­¾

```js
let hd = `
  <h1>recoluanfe</h1>
  <span>å‰ç«¯äºº</span>
  <h2>hdcms</h2>
`;
let reg = /<(?<tag>h[1-6])>(?<con>[\s\S]*)<\/\1>/gi;
console.log(hd.replace(reg, `<p>$<con></p>`));
```

è·å–é“¾æ¥ä¸ç½‘ç«™åç§°ç»„æˆæ•°ç»„é›†åˆ

```html
<body>
  <a href="https://www.recoluanfe.com">å‰ç«¯äºº</a>
  <a href="https://www.hdcms.com">hdcms</a>
  <a href="https://www.sina.com.cn">æ–°æµª</a>
</body>

<script>
  let body = document.body.innerHTML;
  let reg = /<a\s*.+?(?<link>https?:\/\/(\w+\.)+(com|org|cc|cn)).*>(?<title>.+)<\/a>/gi;
  const links = [];
  for (const iterator of body.matchAll(reg)) {
    links.push(iterator["groups"]);
  }
  console.log(links);
</script>
```

## é‡å¤åŒ¹é…

### åŸºæœ¬ä½¿ç”¨
å¦‚æœè¦é‡å¤åŒ¹é…ä¸€äº›å†…å®¹æ—¶æˆ‘ä»¬è¦ä½¿ç”¨é‡å¤åŒ¹é…ä¿®é¥°ç¬¦ï¼ŒåŒ…æ‹¬ä»¥ä¸‹å‡ ç§ã€‚

|ç¬¦å·|è¯´æ˜
|-|-|
|*|é‡å¤é›¶æ¬¡æˆ–æ›´å¤šæ¬¡|
|+|é‡å¤ä¸€æ¬¡æˆ–æ›´å¤šæ¬¡|
|?|é‡å¤é›¶æ¬¡æˆ–ä¸€æ¬¡|
|{n}|é‡å¤næ¬¡|
|{n,}|é‡å¤næ¬¡æˆ–æ›´å¤šæ¬¡|
|{n,m}|é‡å¤nåˆ°mæ¬¡|

> å› ä¸ºæ­£åˆ™æœ€å°å•ä½æ˜¯å…ƒå­—ç¬¦ï¼Œè€Œæˆ‘ä»¬å¾ˆå°‘åªåŒ¹é…ä¸€ä¸ªå…ƒå­—ç¬¦å¦‚aã€bæ‰€ä»¥åŸºæœ¬ä¸Šé‡å¤åŒ¹é…åœ¨æ¯æ¡æ­£åˆ™è¯­å¥ä¸­éƒ½æ˜¯å¿…ç”¨åˆ°çš„å†…å®¹ã€‚

é»˜è®¤æƒ…å†µä¸‹é‡å¤é€‰é¡¹å¯¹å•ä¸ªå­—ç¬¦è¿›è¡Œé‡å¤åŒ¹é…ï¼Œå³ä¸æ˜¯è´ªå©ªåŒ¹é…

```js
let hd = "hdddd";
console.log(hd.match(/hd+/i)); //hddd
```

ä½¿ç”¨åŸå­ç»„ååˆ™å¯¹æ•´ä¸ªç»„é‡å¤åŒ¹é…

```js
let hd = "hdddd";
console.log(hd.match(/(hd)+/i)); //hd
```

ä¸‹é¢æ˜¯éªŒè¯åæœºå·çš„æ­£åˆ™

```js
let hd = "010-12345678";
console.log(/0\d{2,3}-\d{7,8}/.exec(hd));
```

éªŒè¯ç”¨æˆ·ååªèƒ½ä¸º3~8ä½çš„å­—æ¯æˆ–æ•°å­—ï¼Œå¹¶ä»¥å­—æ¯å¼€å§‹

```html
<body>
  <input type="text" name="username" />
</body>
<script>
  let input = document.querySelector(`[name="username"]`);
  input.addEventListener("keyup", e => {
    const value = e.target.value;
    let state = /^[a-z][\w]{2,7}$/i.test(value);
    console.log(
      state ? "æ­£ç¡®ï¼" : "ç”¨æˆ·ååªèƒ½ä¸º3~8ä½çš„å­—æ¯æˆ–æ•°å­—ï¼Œå¹¶ä»¥å­—æ¯å¼€å§‹"
    );
  });
</script>
```js

éªŒè¯å¯†ç å¿…é¡»åŒ…å«å¤§å†™å­—æ¯å¹¶åœ¨5~10ä½ä¹‹é—´

```html
<body>
<input type="text" name="password" />
</body>
<script>
let input = document.querySelector(`[name="password"]`);
input.addEventListener("keyup", e => {
  const value = e.target.value.trim();
  const regs = [/^[a-zA-Z0-9]{5,10}$/, /[A-Z]/];
  let state = regs.every(v => v.test(value));
  console.log(state ? "æ­£ç¡®ï¼" : "å¯†ç å¿…é¡»åŒ…å«å¤§å†™å­—æ¯å¹¶åœ¨5~10ä½ä¹‹é—´");
});
</script>
```

### ç¦æ­¢è´ªå©ª

æ­£åˆ™è¡¨è¾¾å¼åœ¨è¿›è¡Œé‡å¤åŒ¹é…æ—¶ï¼Œé»˜è®¤æ˜¯è´ªå©ªåŒ¹é…æ¨¡å¼ï¼Œä¹Ÿå°±æ˜¯è¯´ä¼šå°½é‡åŒ¹é…æ›´å¤šå†…å®¹ï¼Œä½†æ˜¯æœ‰çš„æ—¶å€™æˆ‘ä»¬å¹¶ä¸å¸Œæœ›ä»–åŒ¹é…æ›´å¤šå†…å®¹ï¼Œè¿™æ—¶å¯ä»¥é€šè¿‡?è¿›è¡Œä¿®é¥°æ¥ç¦æ­¢é‡å¤åŒ¹é…

|ä½¿ç”¨|è¯´æ˜
|-|-|
|*?|é‡å¤ä»»æ„æ¬¡ï¼Œä½†å°½å¯èƒ½å°‘é‡å¤|
|+?|é‡å¤1æ¬¡æˆ–æ›´å¤šæ¬¡ï¼Œä½†å°½å¯èƒ½å°‘é‡å¤|
|??|é‡å¤0æ¬¡æˆ–1æ¬¡ï¼Œä½†å°½å¯èƒ½å°‘é‡å¤|
|{n,m}?|é‡å¤nåˆ°mæ¬¡ï¼Œä½†å°½å¯èƒ½å°‘é‡å¤|
|{n,}?|é‡å¤næ¬¡ä»¥ä¸Šï¼Œä½†å°½å¯èƒ½å°‘é‡å¤|

ä¸‹é¢æ˜¯ç¦æ­¢è´ªå©ªçš„è¯­æ³•ä¾‹å­

```js
let str = "aaa";
console.log(str.match(/a+/)); //aaa
console.log(str.match(/a+?/)); //a
console.log(str.match(/a{2,3}?/)); //aa
console.log(str.match(/a{2,}?/)); //aa
```

å°†æ‰€æœ‰spanæ›´æ¢ä¸ºh4 å¹¶æçº¢ï¼Œå¹¶åœ¨å†…å®¹å‰åŠ ä¸Š å‰ç«¯äºº-

```html
<body>
  <main>
    <span>recoluanfe</span>
    <span>hdcms.com</span>
    <span>recoluanfe.com</span>
  </main>
</body>
<script>
  const main = document.querySelector("main");
  const reg = /<span>([\s\S]+?)<\/span>/gi;
  main.innerHTML = main.innerHTML.replace(reg, (v, p1) => {
    console.log(p1);
    return `<h4 style="color:red">å‰ç«¯äºº-${p1}</h4>`;
  });
</script>
```

ä¸‹é¢æ˜¯ä½¿ç”¨ç¦æ­¢è´ªå©ªæŸ¥æ‰¾é¡µé¢ä¸­çš„æ ‡é¢˜å…ƒç´ 

```html
<body>
  <h1>
    recoluanfe.com
  </h1>
  <h2>hdcms.com</h2>
  <h3></H3>
  <H1></H1>
</body>

<script>
  let body = document.body.innerHTML;
  let reg = /<(h[1-6])>[\s\S]*?<\/\1>/gi;
  console.table(body.match(reg));
</script>
```

## å…¨å±€åŒ¹é…

### é—®é¢˜åˆ†æ
ä¸‹é¢æ˜¯ä½¿ç”¨match å…¨å±€è·å–é¡µé¢ä¸­æ ‡ç­¾å†…å®¹ï¼Œä½†å¹¶ä¸ä¼šè¿”å›åŒ¹é…ç»†èŠ‚

```html
<body>
  <h1>recoluanfe.com</h1>
  <h2>hdcms.com</h2>
  <h1>å‰ç«¯äºº</h1>
</body>

<script>
  function elem(tag) {
    const reg = new RegExp("<(" + tag + ")>.+?<\.\\1>", "g");
    return document.body.innerHTML.match(reg);
  }
  console.table(elem("h1"));
</script>
```

### matchAll

åœ¨æ–°æµè§ˆå™¨ä¸­æ”¯æŒä½¿ç”¨ matchAll æ“ä½œï¼Œå¹¶è¿”å›è¿­ä»£å¯¹è±¡

```js
let str = "recoluanfe";
let reg = /[a-z]/ig;
for (const iterator of str.matchAll(reg)) {
  console.log(iterator);
}
```

åœ¨åŸå‹å®šä¹‰ matchAllæ–¹æ³•ï¼Œç”¨äºåœ¨æ—§æµè§ˆå™¨ä¸­å·¥ä½œï¼Œä¸éœ€è¦æ·»åŠ g æ¨¡å¼è¿è¡Œ

```js
String.prototype.matchAll = function(reg) {
  let res = this.match(reg);
  if (res) {
    let str = this.replace(res[0], "^".repeat(res[0].length));
    let match = str.matchAll(reg) || [];
    return [res, ...match];
  }
};
let str = "recoluanfe";
console.dir(str.matchAll(/(U)/i));
```

### exec

ä½¿ç”¨ g æ¨¡å¼ä¿®æ­£ç¬¦å¹¶ç»“åˆ exec å¾ªç¯æ“ä½œå¯ä»¥è·å–ç»“æœå’ŒåŒ¹é…ç»†èŠ‚

```html
<body>
  <h1>recoluanfe.com</h1>
  <h2>hdcms.com</h2>
  <h1>å‰ç«¯äºº</h1>
</body>
<script>
  function search(string, reg) {
    const matchs = [];
    while ((data = reg.exec( string))) {
      matchs.push(data);
    }
    return matchs;
  }
  console.log(search(document.body.innerHTML, /<(h[1-6])>[\s\S]+?<\/\1>/gi));
</script>
```

ä½¿ç”¨ä¸Šé¢å®šä¹‰çš„å‡½æ•°æ¥æ£€ç´¢å­—ç¬¦ä¸²ä¸­çš„ç½‘å€

```js
let hd = `https://hdcms.com  
https://www.sina.com.cn
https://www.recoluanfe.com`;

let res = search(hd, /https?:\/\/(\w+\.)?(\w+\.)+(com|cn)/gi);
console.dir(res);
```

## å­—ç¬¦æ–¹æ³•

ä¸‹é¢ä»‹ç»çš„æ–¹æ³•æ˜¯ String æä¾›çš„æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼çš„æ–¹æ³•

### search

search() æ–¹æ³•ç”¨äºæ£€ç´¢å­—ç¬¦ä¸²ä¸­æŒ‡å®šçš„å­å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æœç´¢ï¼Œè¿”å›å€¼ä¸ºç´¢å¼•ä½ç½®

```js
let str = "recoluanfe.com";
console.log(str.search("com"));
```

ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æœç´¢

```js
console.log(str.search(/\.com/i));
```

### match
ç›´æ¥ä½¿ç”¨å­—ç¬¦ä¸²æœç´¢

```js
let str = "recoluanfe.com";
console.log(str.match("com"));
```

ä½¿ç”¨æ­£åˆ™è·å–å†…å®¹ï¼Œä¸‹é¢æ˜¯ç®€å•çš„æœç´¢å­—ç¬¦ä¸²

```js
let hd = "recoluanfe";
let res = hd.match(/u/);
console.log(res);
console.log(res[0]); //åŒ¹é…çš„ç»“æœ
console.log(res[index]); //å‡ºç°çš„ä½ç½®
```

å¦‚æœä½¿ç”¨ g ä¿®é¥°ç¬¦æ—¶ï¼Œå°±ä¸ä¼šæœ‰ç»“æœçš„è¯¦ç»†ä¿¡æ¯äº†ï¼ˆå¯ä»¥ä½¿ç”¨execï¼‰ï¼Œä¸‹é¢æ˜¯è·å–æ‰€æœ‰h1~6çš„æ ‡é¢˜å…ƒç´ 

```js
let body = document.body.innerHTML;
let result = body.match(/<(h[1-6])>[\s\S]+?<\/\1>/g);
console.table(result);
```

### matchAll
åœ¨æ–°æµè§ˆå™¨ä¸­æ”¯æŒä½¿ç”¨ matchAll æ“ä½œï¼Œå¹¶è¿”å›è¿­ä»£å¯¹è±¡

```js
let str = "recoluanfe";
let reg = /[a-z]/ig;
for (const iterator of str.matchAll(reg)) {
  console.log(iterator);
}
```

### split
ç”¨äºä½¿ç”¨å­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾å¼åˆ†éš”å­—ç¬¦ä¸²ï¼Œä¸‹é¢æ˜¯ä½¿ç”¨å­—ç¬¦ä¸²åˆ†éš”æ—¥æœŸ

```js
let str = "2023-02-12";
console.log(str.split("-")); //["2023", "02", "12"]
```

å¦‚æœæ—¥æœŸçš„è¿æ¥ç¬¦ä¸ç¡®å®šï¼Œé‚£å°±è¦ä½¿ç”¨æ­£åˆ™æ“ä½œäº†

```js
let str = "2023/02-12";
console.log(str.split(/-|\//));
```

### replace
replace æ–¹æ³•ä¸ä»…å¯ä»¥æ‰§è¡ŒåŸºæœ¬å­—ç¬¦æ›¿æ¢ï¼Œä¹Ÿå¯ä»¥è¿›è¡Œæ­£åˆ™æ›¿æ¢ï¼Œä¸‹é¢æ›¿æ¢æ—¥æœŸè¿æ¥ç¬¦

```js
let str = "2023/02/12";
console.log(str.replace(/\//g, "-")); //2023-02-12
```

æ›¿æ¢å­—ç¬¦ä¸²å¯ä»¥æ’å…¥ä¸‹é¢çš„ç‰¹æ®Šå˜é‡åï¼š

|å˜é‡|è¯´æ˜|
|-|-|
|$$|æ’å…¥ä¸€ä¸ª "$"ã€‚|
|$&|æ’å…¥åŒ¹é…çš„å­ä¸²ã€‚
|$`|æ’å…¥å½“å‰åŒ¹é…çš„å­ä¸²å·¦è¾¹çš„å†…å®¹ã€‚|
|$'|æ’å…¥å½“å‰åŒ¹é…çš„å­ä¸²å³è¾¹çš„å†…å®¹ã€‚|
|$n|å‡å¦‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ RegExp å¯¹è±¡ï¼Œå¹¶ä¸” n æ˜¯ä¸ªå°äº100çš„éè´Ÿæ•´æ•°ï¼Œé‚£ä¹ˆæ’å…¥ç¬¬ n ä¸ªæ‹¬å·åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚æç¤ºï¼šç´¢å¼•æ˜¯ä»1å¼€å§‹|

åœ¨å‰ç«¯äººå‰åæ·»åŠ ä¸‰ä¸ª `=`

```js
let hd = "=å‰ç«¯äºº=";
console.log(hd.replace(/å‰ç«¯äºº/g, "$`$`$&$'$'"));
```

æŠŠç”µè¯å·ç”¨ - è¿æ¥

```js
let hd = "(010)99999999 (020)8888888";
console.log(hd.replace(/\((\d{3,4})\)(\d{7,8})/g, "$1-$2"));
```

æŠŠæ‰€æœ‰æ•™è‚²æ±‰å­—åŠ ä¸Šé“¾æ¥ https://www.recoluanfe.com

```html
<body>
  åœ¨çº¿æ•™è‚²æ˜¯ä¸€ç§é«˜æ•ˆçš„å­¦ä¹ æ–¹å¼ï¼Œæ•™è‚²æ˜¯ä¸€ç”Ÿçš„äº‹ä¸š
</body>
<script>
  const body = document.body;
  body.innerHTML = body.innerHTML.replace(
    /æ•™è‚²/g,
    `<a href="https://www.recoluanfe.com">$&</a>`
  );
</script>
```

ä¸ºé“¾æ¥æ·»åŠ ä¸Šhttps ï¼Œå¹¶è¡¥å…¨ www.

```html
<body>
  <main>
    <a style="color:red" href="http://www.hdcms.com">
      å¼€æºç³»ç»Ÿ
    </a>
    <a id="l1" href="http://recoluanfe.com">å‰ç«¯äºº</a>
    <a href="http://yahoo.com">é›…è™</a>
    <h4>http://www.hdcms.com</h4>
  </main>
</body>
<script>
  const main = document.querySelector("body main");
  const reg = /(<a.*href=['"])(http)(:\/\/)(www\.)?(hdcms|recoluanfe)/gi;
  main.innerHTML = main.innerHTML.replace(reg, (v, ...args) => {
    args[1] += "s";
    args[3] = args[3] || "www.";
    return args.splice(0, 5).join("");
  });
</script>
```

å°†æ ‡é¢˜æ ‡ç­¾å…¨éƒ¨æ›¿æ¢ä¸º p æ ‡ç­¾

```html
<body>
  <h1>recoluanfe.com</h1>
  <h2>hdcms.com</h2>
  <h1>å‰ç«¯äºº</h1>
</body>

<script>
  const reg = /<(h[1-6])>(.*?)<\/\1>/g;
  const body = document.body.innerHTML;
  const html = body.replace(reg, function(str, tag, content) {
    return `<p>${content}</p>`;
  });
  document.body.innerHTML = html;
</script>
```

åˆ é™¤é¡µé¢ä¸­çš„ h1~h6 æ ‡ç­¾

```html
<body>
  <h1>recoluanfe.com</h1>
  <h2>hdcms.com</h2>
  <h1>å‰ç«¯äºº</h1>
</body>
<script>
  const reg = /<(h[1-6])>(.*?)<\/\1>/g;
  const body = document.body.innerHTML;
  const html = body.replace(reg, "");
  document.body.innerHTML = html;
</script>
```

å›è°ƒå‡½æ•°

replace æ”¯æŒå›è°ƒå‡½æ•°æ“ä½œï¼Œç”¨äºå¤„ç†å¤æ‚çš„æ›¿æ¢é€»è¾‘

|å˜é‡å|ä»£è¡¨çš„å€¼|
|match|åŒ¹é…çš„å­ä¸²ã€‚ï¼ˆå¯¹åº”äºä¸Šè¿°çš„$&ã€‚ï¼‰|
|p1,p2, ...|å‡å¦‚replace()æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ª RegExp å¯¹è±¡ï¼Œåˆ™ä»£è¡¨ç¬¬nä¸ªæ‹¬å·åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚ï¼ˆå¯¹åº”äºä¸Šè¿°çš„$1ï¼Œ$2ç­‰ã€‚ï¼‰ä¾‹å¦‚ï¼Œå¦‚æœæ˜¯ç”¨ /(\a+)(\b+)/ è¿™ä¸ªæ¥åŒ¹é…ï¼Œp1 å°±æ˜¯åŒ¹é…çš„ \a+ï¼Œp2 å°±æ˜¯åŒ¹é…çš„ |\b+ã€‚|
|offset|åŒ¹é…åˆ°çš„å­å­—ç¬¦ä¸²åœ¨åŸå­—ç¬¦ä¸²ä¸­çš„åç§»é‡ã€‚ï¼ˆæ¯”å¦‚ï¼Œå¦‚æœåŸå­—ç¬¦ä¸²æ˜¯ 'abcd'ï¼ŒåŒ¹é…åˆ°çš„å­å­—ç¬¦ä¸²æ˜¯ 'bc'ï¼Œé‚£ä¹ˆè¿™ä¸ªå‚æ•°å°†ä¼šæ˜¯ 1ï¼‰|
|string|è¢«åŒ¹é…çš„åŸå­—ç¬¦ä¸²ã€‚|
|NamedCaptureGroup|å‘½åæ•è·ç»„åŒ¹é…çš„å¯¹è±¡|

ä½¿ç”¨å›è°ƒå‡½æ•°å°† å‰ç«¯äºº æ·»åŠ ä¸Šé“¾æ¥

```html
<body>
  <div class="content">
    å‰ç«¯äººä¸æ–­æ›´æ–°ä¼˜è´¨è§†é¢‘æ•™ç¨‹
  </div>
</body>

<script>
  let content = document.querySelector(".content");
  content.innerHTML = content.innerHTML.replace("å‰ç«¯äºº", function(
    search,
    pos,
    source
  ) {
    return `<a href="https://www.recoluanfe.com">${search}</a>`;
  });
</script>
```

ä¸ºæ‰€æœ‰æ ‡é¢˜æ·»åŠ ä¸Š hot ç±»

```html
<body>
  <div class="content">
    <h1>å‰ç«¯äºº</h1>
    <h2>recoluanfe.com</h2>
    <h1>å‰ç«¯äºº</h1>
  </div>
</body>
<script>
  let content = document.querySelector(".content");
  let reg = /<(h[1-6])>([\s\S]*?)<\/\1>/gi;
  content.innerHTML = content.innerHTML.replace(
    reg,
    (
      search, //åŒ¹é…åˆ°çš„å­—ç¬¦
      p1, //ç¬¬ä¸€ä¸ªåŸå­ç»„
      p2, //ç¬¬äºŒä¸ªåŸå­ç»„
      index, //ç´¢å¼•ä½ç½®
      source //åŸå­—ç¬¦
    ) => {
      return `
    <${p1} class="hot">${p2}</${p1}>
    `;
    }
  );
</script>
```

## æ­£åˆ™æ–¹æ³•

ä¸‹é¢æ˜¯ RegExp æ­£åˆ™å¯¹è±¡æä¾›çš„æ“ä½œæ–¹æ³•

### test

æ£€æµ‹è¾“å…¥çš„é‚®ç®±æ˜¯å¦åˆæ³•

```html
<body>
  <input type="text" name="email" />
</body>

<script>
  let email = document.querySelector(`[name="email"]`);
  email.addEventListener("keyup", e => {
    console.log(/^\w+@\w+\.\w+$/.test(e.target.value));
  });
</script>
```

### exec

ä¸ä½¿ç”¨ g ä¿®é¥°ç¬¦æ—¶ä¸ match æ–¹æ³•ä½¿ç”¨ç›¸ä¼¼ï¼Œä½¿ç”¨ g ä¿®é¥°ç¬¦åå¯ä»¥å¾ªç¯è°ƒç”¨ç›´åˆ°å…¨éƒ¨åŒ¹é…å®Œã€‚

ä½¿ç”¨ g ä¿®é¥°ç¬¦å¤šæ¬¡æ“ä½œæ—¶ä½¿ç”¨åŒä¸€ä¸ªæ­£åˆ™ï¼Œå³æŠŠæ­£åˆ™å®šä¹‰ä¸ºå˜é‡ä½¿ç”¨
ä½¿ç”¨ g ä¿®é¥°ç¬¦æœ€ååŒ¹é…ä¸åˆ°æ—¶è¿”å› null
è®¡ç®—å†…å®¹ä¸­å‰ç«¯äººå‡ºç°çš„æ¬¡æ•°

```html
<body>
  <div class="content">
    å‰ç«¯äººä¸æ–­åˆ†äº«è§†é¢‘æ•™ç¨‹ï¼Œå‰ç«¯äººç½‘å€æ˜¯ recoluanfe.com
  </div>
</body>

<script>
  let content = document.querySelector(".content");
  let reg = /(?<tag>å‰ç«¯)äºº/g;
  let num = 0;
  while ((result = reg.exec(content.innerHTML))) {
    num++;
  }
  console.log(`å‰ç«¯äººå…±å‡ºç°${num}æ¬¡`);
</script>
```

## æ–­è¨€åŒ¹é…

æ–­è¨€è™½ç„¶å†™åœ¨æ‰©å·ä¸­ä½†å®ƒä¸æ˜¯ç»„ï¼Œæ‰€ä»¥ä¸ä¼šåœ¨åŒ¹é…ç»“æœä¸­ä¿å­˜ï¼Œå¯ä»¥å°†æ–­è¨€ç†è§£ä¸ºæ­£åˆ™ä¸­çš„æ¡ä»¶ã€‚

### (?=exp)

é›¶å®½å…ˆè¡Œæ–­è¨€ ?=exp åŒ¹é…åé¢ä¸º exp çš„å†…å®¹

æŠŠåé¢æ˜¯æ•™ç¨‹ çš„å‰ç«¯äººæ±‰å­—åŠ ä¸Šé“¾æ¥

```html
<body>
  <main>
    å‰ç«¯äººä¸æ–­åˆ†äº«è§†é¢‘æ•™ç¨‹ï¼Œå­¦ä¹ å‰ç«¯äººæ•™ç¨‹æå‡ç¼–ç¨‹èƒ½åŠ›ã€‚
  </main>
</body>

<script>
  const main = document.querySelector("main");
  const reg = /å‰ç«¯äºº(?=æ•™ç¨‹)/gi;
  main.innerHTML = main.innerHTML.replace(
    reg,
    v => `<a href="https://recoluanfe.com">${v}</a>`
  );
</script>
```

ä¸‹é¢æ˜¯å°†ä»·æ ¼åé¢ æ·»åŠ ä¸Š .00

```html
<script>
  let lessons = `
    js,200å…ƒ,300æ¬¡
    php,300.00å…ƒ,100æ¬¡
    node.js,180å…ƒ,260æ¬¡
  `;
  let reg = /(\d+)(.00)?(?=å…ƒ)/gi;
  lessons = lessons.replace(reg, (v, ...args) => {
    args[1] = args[1] || ".00";
    return args.splice(0, 2).join("");
  });
  console.log(lessons);
</script>
```

ä½¿ç”¨æ–­è¨€éªŒè¯ç”¨æˆ·åå¿…é¡»ä¸ºäº”ä½ï¼Œä¸‹é¢æ­£åˆ™ä½“ç°æ–­è¨€æ˜¯ä¸æ˜¯ç»„ï¼Œå¹¶ä¸”ä¸åœ¨åŒ¹é…ç»“æœä¸­è®°å½•

```html
<body>
  <input type="text" name="username" />
</body>

<script>
  document
    .querySelector(`[name="username"]`)
    .addEventListener("keyup", function() {
      let reg = /^(?=[a-z]{5}$)/i;
      console.log(reg.test(this.value));
    });
</script>
```

### (?<=exp)

é›¶å®½åè¡Œæ–­è¨€ ?<=exp åŒ¹é…å‰é¢ä¸º exp çš„å†…å®¹

åŒ¹é…å‰é¢æ˜¯recoluanfe çš„æ•°å­—

```js
let hd = "recoluanfe789hdcms666";
let reg = /(?<=recoluanfe)\d+/i;
console.log(hd.match(reg)); //789
```

åŒ¹é…å‰åéƒ½æ˜¯æ•°å­—çš„å†…å®¹

```js
let hd = "recoluanfe789hdcms666";
let reg = /(?<=\d)[a-z]+(?=\d{3})/i;
console.log(hd.match(reg));
```

æ‰€æœ‰è¶…é“¾æ¥æ›¿æ¢ä¸ºrecoluanfe.com

```html
<body>
  <a href="https://baidu.com">ç™¾åº¦</a>
  <a href="https://yahoo.com">é›…è™</a>
</body>
<script>
  const body = document.body;
  let reg = /(?<=<a.*href=(['"])).+?(?=\1)/gi;
  // console.log(body.innerHTML.match(reg));
  body.innerHTML = body.innerHTML.replace(reg, "https://recoluanfe.com");
</script>
```

ä¸‹ä¾‹ä¸­å°† å‰ç«¯äºº åé¢çš„è§†é¢‘æ·»åŠ ä¸Šé“¾æ¥

```html
<body>
  <h1>å‰ç«¯äººè§†é¢‘ä¸æ–­å½•åˆ¶æ¡ˆä¾‹ä¸°å¯Œçš„è§†é¢‘æ•™ç¨‹</h1>
</body>

<script>
  let h1 = document.querySelector("h1");
  let reg = /(?<=å‰ç«¯äºº)è§†é¢‘/;
  h1.innerHTML = h1.innerHTML.replace(reg, str => {
    return `<a href="https://www.recoluanfe.com">${str}</a>`;
  });
</script>
```

å°†ç”µè¯çš„åå››ä½æ¨¡ç³Šå¤„ç†

```js
let users = `
  å‘å†›ç”µè¯: 12345678901
  å‰ç«¯äººç”µè¯: 98745675603
`;

let reg = /(?<=\d{7})\d+\s*/g;
users = users.replace(reg, str => {
  return "*".repeat(4);
});
console.log(users); //å‘å†›ç”µè¯: 1234567****å‰ç«¯äººç”µè¯: 9874567****
```

è·å–æ ‡é¢˜ä¸­çš„å†…å®¹

```js
let hd = `<h1>å‰ç«¯äººè§†é¢‘ä¸æ–­å½•åˆ¶æ¡ˆä¾‹ä¸°å¯Œçš„è§†é¢‘æ•™ç¨‹</h1>`;
let reg = /(?<=<h1>).*(?=<\/h1>)/g;
console.log(hd.match(reg));
```

### (?!exp)

é›¶å®½è´Ÿå‘å…ˆè¡Œæ–­è¨€ åé¢ä¸èƒ½å‡ºç° exp æŒ‡å®šçš„å†…å®¹

ä½¿ç”¨ (?!exp)å­—æ¯åé¢ä¸èƒ½ä¸ºä¸¤ä½æ•°å­—

```js
let hd = "recoluanfe12";
let reg = /[a-z]+(?!\d{2})$/i;
console.table(reg.exec(hd));
```

ä¸‹ä¾‹ä¸ºç”¨æˆ·åä¸­ä¸èƒ½å‡ºç°å‘å†›

```html
<body>
  <main>
    <input type="text" name="username" />
  </main>
</body>
<script>
  const input = document.querySelector(`[name="username"]`);
  input.addEventListener("keyup", function() {
    const reg = /^(?!.*å‘å†›.*)[a-z]{5,6}$/i;
    console.log(this.value.match(reg));
  });
</script>
```

### (?<!exp)

é›¶å®½è´Ÿå‘åè¡Œæ–­è¨€ å‰é¢ä¸èƒ½å‡ºç°expæŒ‡å®šçš„å†…å®¹

è·å–å‰é¢ä¸æ˜¯æ•°å­—çš„å­—ç¬¦

```html
let hd = "hdcms99recoluanfe";
let reg = /(?<!\d+)[a-z]+/i;
console.log(reg.exec(hd)); //hdcms
```

æŠŠæ‰€æœ‰ä¸æ˜¯ä»¥ https://oss.recoluanfe.com å¼€å§‹çš„é™æ€èµ„æºæ›¿æ¢ä¸ºæ–°ç½‘å€

```html
<body>
  <main>
    <a href="https://www.recoluanfe.com/1.jpg">1.jpg</a>
    <a href="https://oss.recoluanfe.com/2.jpg">2.jpg</a>
    <a href="https://cdn.recoluanfe.com/2.jpg">3.jpg</a>
    <a href="https://recoluanfe.com/2.jpg">3.jpg</a>
  </main>
</body>
<script>
  const main = document.querySelector("main");
  const reg = /https:\/\/(\w+)?(?<!oss)\..+?(?=\/)/gi;
  main.innerHTML = main.innerHTML.replace(reg, v => {
    console.log(v);
    return "https://oss.recoluanfe.com";
  });
</script>
```

**å‚è€ƒï¼š**
- [å»–é›ªå³° RegExp](https://www.liaoxuefeng.com/wiki/1022910821149312/1023021582119488)