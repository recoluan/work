---
title: JS 基础知识
date: 2019-08-28
tags:
 - js        
categories: 
 - js
---

## 数据类型

- 值类型 值保存在栈内存 Stack 中
- 引用类型 值保存在堆内存 Heap 中，然后将堆内存的地址保存在栈内存中，并赋值给变量

## typeof

`typeof` 的结果都是字符串。

|案例|结果|
|-|:-:|
|`'1'`|string|
|`1`|number|
|`undefined`|undefined|
|false|boolean|
|Symbol(1)|symbol|
|`null` / {} / []|object|
|Array/Boolean/String/Number/...|function|


## 运算符

|案例|结果|
|-|:-:|
|+ '123'|123|
|- '123'|-123|

## 显示类型转换

**Number()**

|案例|结果|
|-|:-:|
|123|123|
|'123'|123|
|'true' / 'a' / '1a' / 'a1' / undefined|NaN|
|true|1|
|false / null|0|

**parseInt()**

parseInt 只考虑将数字类型转化整型，不

|案例|结果|
|-|:-:|
|123|123|
|true / false / null /undefined|NaN|
|'3.14' / '3.15'|3|
|'123abc'|123|
|'abc123'|NaN|

parseInt 接受两个参数，第二个是radix（进制)

**parseFloat()**

|案例|结果|
|-|:-:|
|3.1415|3.1415|
|||

**toFixed()**

toFixed(2) 的结果

|案例|结果|
|-|:-:|
|3.1415|3.14|
|3.1465|3.15|

**toString()**

toString 接受两个参数，第二个是radix（进制)

数值、布尔值、对象、字符串和 Symbol 都有一个 toString() 方法，但是 null 和 undefined 没有。

**String()**

如果值有 toString() 方法，就会遵循起规则转化，如果是 `'null'` 返回 null，如果是 undefined 返回 `'undefined'`。

**Boolean()**

|案例|结果|
|-|:-:|
|null / undefined / NaN / '' / 0 / false |false|
|1|true| 

## 隐式类型转换

|案例|结果|
|-|:-:|
|a++ / a-- / * / `/` / % / = / !=|先 `Number(a)`|
|"a" + 1|先 `String(1)` 再 `'a' + '1'`|
|1 > '2' / '1' > 2 / '1' > '2' / < / <= / >=|先 `Number(1)`|
|'a' > 'b' / < / <= / >=|先转化 ascii 码|
|NaN == NaN / NaN === NaN|false|
|undefined < 0 / undefined > 0 / undefined = 0|false|
|null < 0 / null > 0 / null = 0|false|
|NaN == undefined|true|
|NaN === undefined|false|

**isNaN**

进行 Number() 转化

|案例|结果|
|-|:-:|
|1 / '1' / null|false|
|'a' / undefined / NaN|true|

## ASCII码

表1 0-127
表2 128-255

每个码1个字节

## UNICODE码

涵盖 ASCII 码，从256开始2个字节

str.charCodeAt(0) 查找字节数

**获取字节数**

```js
function getBytes (str) {
  let bytes = 0
  for( let i = 0; i < str.length; i++ ) {
    const pos = str.charCodeAt(i);
    if (pos < 255) {
      bytes++
    } else {
      bytes += 1
    }
  }

  return bytes
}
```

```js
// 精简
function getBytes (str) {
  let bytes = str.length
  for( let i = 0; i < str.length; i++ ) {
    const pos = str.charCodeAt(i);
    if (pos > 255) {
      bytes++
    }
  }

  return bytes
}
```